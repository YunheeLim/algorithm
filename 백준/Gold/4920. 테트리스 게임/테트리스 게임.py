import sys
input = sys.stdin.readline

shapes = [
    # 1. I자 (ㅡ, ㅣ)
    [(0,0), (0,1), (0,2), (0,3)],
    [(0,0), (1,0), (2,0), (3,0)],

    # 2. O자 (정사각형)
    [(0,0), (0,1), (1,0), (1,1)],

    # # 3. L자 + 회전 (4가지)
    # [(0,0), (1,0), (2,0), (2,1)],
    # [(0,0), (0,1), (0,2), (1,0)],
    # # [(0,0), (0,1), (1,1), (2,1)],
    # [(0,2), (1,0), (1,1), (1,2)],

    # 4. J자 + 회전 (4가지)
    [(0,1), (1,1), (2,0), (2,1)],
    [(0,0), (0,1), (0,2), (1,2)],
    [(0,0), (0,1), (1,0), (2,0)],
    [(0,0), (1,0), (1,1), (1,2)],

    # 5. S자 + 회전 (2가지)
    # [(0,1), (0,2), (1,0), (1,1)],
    # [(0,0), (1,0), (1,1), (2,1)],

    # 6. Z자 + 회전 (2가지)
    [(0,0), (0,1), (1,1), (1,2)],
    [(0,1), (1,0), (1,1), (2,0)],

    # 7. T자 + 회전 (4가지)
    [(0,0), (0,1), (0,2), (1,1)],
    [(0,1), (1,0), (1,1), (2,1)],
    [(0,1), (1,0), (1,1), (1,2)],
    [(0,0), (1,0), (1,1), (2,0)]
]

T = 1
while True:
    answer = -int(1e9)
    n = int(input())
    if n == 0:
        break
    arr = [list(map(int, input().split())) for _ in range(n)]
    for i in range(n):
        for j in range(n):
            for s in shapes:
                total = 0
                for dx, dy in s: 
                    if not (0 <= i + dx < n and 0 <= j + dy < n):
                        break
                    total += arr[i + dx][j + dy]
                else:
                    answer = max(answer, total)

    print(f"{T}. {answer}")
    T += 1